<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#ffffff" />
  <meta name="description" content="Rest Apis Con Nodejs" />
  <link rel="icon" href="assets/icons/favicon.png" />
  <link rel="favicon" href="assets/icons/favicon.png" />
  <link rel="apple-touch-icon" href="assets/icons/favicon.png" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="styles/index.css" />
  <script defer src="https://kit.fontawesome.com/a74e3c1ac7.js" crossorigin="anonymous"></script>
  <title>Rest Apis Con Nodejs</title>
</head>

<body>
  <main class="container mt-3">
    <h1 class="text-center text-primary">Rest Apis Con Nodejs</h1>
    <form id="form">
      <input class="form-control mt-3" type="email" name="email" id="email" placeholder="Escribe Tu Email"
        autocomplete="off" autofocus value="axelorellana550@gmail.com" />
      <input class="form-control" type="password" name="password" id="password" placeholder="ContraseÃ±a"
        autocomplete="off" value="123123" />
      <button type="submit" class="btn btn-primary">Acceder</button>
    </form>
  </main>

  <script>
    const form = document.querySelector("#form");
    const email = document.querySelector("#email");
    const password = document.querySelector("#password");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();

      try {
        const res = await fetch("http://localhost:5000/api/v1/auth/login", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ email: email.value, password: password.value }),
        });
        if (!res.ok) return;

        const { token } = await res.json();
      } catch (error) {
        console.error(error.message);
      }
    });
  </script>
</body>

</html>